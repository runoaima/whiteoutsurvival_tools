{% extends 'base/base.html' %}

{% block content %}

<head>
    {% load static %}
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'accounts/css/profile.css' %}">
</head>

<body>

    <!-- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ¦‚è¦ï¼ˆä¸­å¤®è¡¨ç¤ºï¼‰ -->
    <section class="profile-header">
        {% if profile_user.profile.avatar %}
        <img src="{{ profile_user.profile.avatar.url }}" class="avatar" alt="ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ">
        {% else %}
        <div class="avatar-placeholder">ðŸ‘¤</div>
        {% endif %}

        <h1>{{ profile_user.username }}</h1>

        <div class="profile-stats">
            <span>æŠ•ç¨¿ 0</span>
            <span>ãƒ•ã‚©ãƒ­ãƒ¼ 0</span>
            <span>ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ 0</span>
        </div>

        {% if user.is_authenticated and user.username == profile_user.username %}
        <a href="{% url 'edit_profile' profile_user.username %}" class="edit-btn">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†</a>
        {% endif %}
    </section>

    <!-- è‡ªå·±ç´¹ä»‹ãƒ»å ´æ‰€ãƒ»èª•ç”Ÿæ—¥ -->
    <section class="profile-info">
        <p>è‡ªå·±ç´¹ä»‹: {{ profile_user.profile.bio|default:"æœªè¨­å®š" }}</p>
        <p>å ´æ‰€: {{ profile_user.profile.location|default:"æœªè¨­å®š" }}</p>
        <p>èª•ç”Ÿæ—¥: {{ profile_user.profile.birth_date|default:"æœªè¨­å®š" }}</p>
    </section>

    <!-- ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ -->
    {% if user.is_authenticated and user.username == profile_user.username %}
    <form action="{% url 'logout' %}" method="post" class="logout-form">
        {% csrf_token %}
        <button type="submit">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
    </form>
    {% endif %}

    <!-- ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤ï¼ˆæœ¬äººã¾ãŸã¯ç®¡ç†è€…ã®ã¿ï¼‰ -->
    {% if user.username == profile_user.username or user.is_superuser %}
    <form action="{% url 'delete_user' profile_user.username %}" method="post" class="delete-form">
        {% csrf_token %}
        <button type="submit" onclick="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');">
            ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤
        </button>
    </form>
    {% endif %}

    


    <script src="{% static 'accounts/js/profile.js' %}"></script>
</body>

{% endblock %}
